<!DOCTYPE html>
<html>

<head>

<style>
.grid-container {
  position: relative;
  display: grid;
  width: 922px;
  grid-gap: 2px;
  background-color: #2196F3;
  padding: 4px;
}

.empty{
  background-color: rgba(300, 300, 300, 300);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.full {
  background-color: rgba(0, 0, 0, 300);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.black {
  background-color: rgba(0, 0, 0, 300);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.red{
  background-color: rgba(250, 0, 0, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.red_3d{
  background-color: rgb(255, 153, 153);
  text-align: center;
  padding: 0px;


}

.green{
  background-color: rgba(0, 199, 70, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.turqoise{
  background-color: rgba(0, 250, 237, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.blue{
  background-color: rgba(0, 50, 250, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.purple{
  background-color: rgba(179, 0, 250, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.orange{
  background-color: rgba(250, 121, 0, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.yellow{
  background-color: rgba(250, 217, 0, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.pink{
  background-color: rgba(250, 0, 171, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.lime{
  background-color: rgba(179, 251, 24, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.circle{
  height: 19px;
  width: 19px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-grid;
}

.solid_wall2{
  background-color: rgba(172, 161, 154, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.solid_wall{
  background-color: #2196F3;
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

</style>
</head>


<body  id = "game" style="background-color:black;" onkeydown="key_pushed(event)" onkeyup="key_released(event)">

<div class = "grid-container" id = "board">



</div>

<script>


var _0x3122=['chute','horizontal','left','length','resume_game(event)','green','drop','setAttribute','push','style','TEST','direction','removeChild','board','rotate','test','gridTemplateRows','empty','random','onkeyup','createElement','null','purple','div','toString','innerHTML','floor','firstChild','onkeydown','vertical','solid_wall','innerHeight','black','removeAttribute','turqoise','pow','blue','fill','keyCode','key_released(event)','width','orange','log','appendChild','ceil','Success','sqrt','red','getElementById','setTimeout','innerWidth','className','game','yellow','gridTemplateColumns','key_pushed(event)'];(function(_0x32489d,_0x5eaa8e){var _0x312265=function(_0x458fc7){while(--_0x458fc7){_0x32489d['push'](_0x32489d['shift']());}};_0x312265(++_0x5eaa8e);}(_0x3122,0x117));var _0x458f=function(_0x32489d,_0x5eaa8e){_0x32489d=_0x32489d-0x175;var _0x312265=_0x3122[_0x32489d];return _0x312265;};var _0x487a8a=_0x458f,game_paused=![],fast_push=![],previous_block=[[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],[0x0,0x0]],previous_shadow=[[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],[0x0,0x0]],is_falling=![],block_ready=![],move=!![],draw=!![],stuck_timer=0x0,blocks=[],board,board_height=0x28,board_width=0x28,last_row=new Array(board_width);last_row[_0x487a8a(0x19b)](0x0);var left=0x0,up=board_height,down=0x0,right=board_width,chutes=[[[board_height-0x1,Math[_0x487a8a(0x190)](board_width/0x2)-0x1],0x0],[[board_height-0x12,0x0],0x3],[[board_height-0x12,0x27],0x1]],walls=[[board_height-0x1,board_height-0x1,0x0,0x10],[board_height-0x5,board_height-0x5,0x0,0xc],[board_height-0x9,board_height-0x9,0x0,0x10],[board_height-0xd,board_height-0xd,0x0,0xc],[board_height-0x1,board_height-0x1,0x17,0x27],[board_height-0x5,board_height-0x5,0x1b,0x27],[board_height-0x9,board_height-0x9,0x17,0x27],[board_height-0xd,board_height-0xd,0x1b,0x27],[board_height-0x21,board_height-0x15,0x0,0xa],[board_height-0x21,board_height-0x15,0x1d,0x27],[0x2,0x2,0x0,0x10],[0x2,0x2,0x17,0x27],[0x5,0xd],[0x7,0x10],[0xb,0x17],[0x10,0x1a]],line_count=0x0,score=0x0,level=0x1,block_count=0x0,speed=0x3e8,fall_speed=speed,flag=!![],keys=[{'drop':0x28,'null':0x26},{'drop':0x25,'null':0x27},{'drop':0x26,'null':0x28},{'drop':0x27,'null':0x25}],shifts=[shift_down,shift_left,shift_up,shift_right],motion={'vertical':0x0,'horizontal':0x0,'chute':0x0,'direction':0x0,'rotate':!![]},colors=[_0x487a8a(0x187),_0x487a8a(0x196),_0x487a8a(0x1a5),_0x487a8a(0x198),_0x487a8a(0x19a),_0x487a8a(0x1ab),_0x487a8a(0x19f),_0x487a8a(0x18c),'pink','lime',_0x487a8a(0x17b)];blocks['push']([[[0x1,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x1]],'red',0x4,0x4]),blocks[_0x487a8a(0x17e)]([[[0x1,0x1,0x1,0x1],[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x4,0x4]),blocks[_0x487a8a(0x17e)]([[[0x1,0x1,0x0,0x0],[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],'red',0x2,0x3]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x1,0x0],[0x1,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x3]),blocks['push']([[[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x1,0x4]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x3,0x2]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0]],'red',0x3,0x2]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x1,0x0],[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x2]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x3,0x3]),blocks['push']([[[0x1,0x0,0x0,0x1],[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x4]),blocks[_0x487a8a(0x17e)]([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x3]),blocks['push']([[[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x1,0x1]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],'red',0x1,0x2]),blocks['push']([[[0x1,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],'red',0x1,0x3]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x2]),blocks['push']([[[0x0,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x2]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x2]),blocks[_0x487a8a(0x17e)]([[[0x1,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x3,0x3]),blocks['push']([[[0x1,0x0,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x3]),blocks[_0x487a8a(0x17e)]([[[0x1,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x3]),blocks['push']([[[0x0,0x1,0x1,0x0],[0x1,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x3]),blocks['push']([[[0x1,0x1,0x1,0x1],[0x1,0x0,0x0,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x2,0x4]),blocks[_0x487a8a(0x17e)]([[[0x1,0x1,0x1,0x0],[0x1,0x1,0x1,0x0],[0x1,0x1,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x3,0x3]),blocks['push']([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0]],_0x487a8a(0x1a5),0x4,0x3]),blocks[_0x487a8a(0x17e)]([[[0x1,0x0,0x0,0x1],[0x0,0x1,0x1,0x0],[0x1,0x0,0x0,0x1],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x3,0x4]),blocks['push']([[[0x0,0x1,0x0,0x1],[0x1,0x1,0x1,0x1],[0x1,0x0,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x3,0x4]),blocks[_0x487a8a(0x17e)]([[[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x1],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0]],_0x487a8a(0x1a5),0x4,0x4]),blocks[_0x487a8a(0x17e)]([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x0]],_0x487a8a(0x1a5),0x4,0x3]),blocks[_0x487a8a(0x17e)]([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x487a8a(0x1a5),0x3,0x3]);function window_grid(_0x13fd00,_0x11115d){var _0x192705=_0x487a8a;return Math[_0x192705(0x190)]((_0x13fd00-0x2)/_0x11115d-0x2);}function remove_children(_0x3ec2ae){var _0x30da54=_0x487a8a;while(_0x3ec2ae['hasChildNodes']()){_0x3ec2ae[_0x30da54(0x182)](_0x3ec2ae[_0x30da54(0x191)]);}}function mutex(){var _0x101bad=_0x487a8a;flag==![]&&window[_0x101bad(0x1a7)](mutex,0x3c);}function move_flag(){move==![]&&window['setTimeout'](move_flag,0x64);}function draw_flag(){var _0x3f392e=_0x487a8a;draw==![]&&window[_0x3f392e(0x1a7)](draw_flag,0x64);}function get_square_element(_0x2ef3b9){var _0x317c8b=_0x487a8a;return document['getElementById'](_0x2ef3b9[0x0][_0x317c8b(0x18e)]()+'\x20'+_0x2ef3b9[0x1]['toString']());}function wall_rectangle(_0x9f9884){var _0x220174=_0x487a8a,_0x4cdd0f=_0x9f9884[0x0],_0x2b3870,_0x28e1b1;while(_0x4cdd0f<=_0x9f9884[0x1]){_0x2b3870=_0x9f9884[0x2];while(_0x2b3870<=_0x9f9884[0x3]){_0x28e1b1=get_square_element([_0x4cdd0f,_0x2b3870]),_0x28e1b1['className']=_0x220174(0x194),board[_0x4cdd0f][_0x2b3870][0x0]=-0x1,board[_0x4cdd0f][_0x2b3870][0x1]=-0x1,_0x2b3870++;}_0x4cdd0f++;}}function build_walls(){var _0x1a92d7=_0x487a8a,_0x417786=0x0,_0x2d35e8;while(_0x417786<walls[_0x1a92d7(0x179)]){walls[_0x417786][_0x1a92d7(0x179)]==0x4?wall_rectangle(walls[_0x417786]):(_0x2d35e8=get_square_element(walls[_0x417786]),_0x2d35e8[_0x1a92d7(0x1a9)]=_0x1a92d7(0x194),board[walls[_0x417786][0x0]][walls[_0x417786][0x1]][0x0]=-0x1,board[walls[_0x417786][0x0]][walls[_0x417786][0x1]][0x1]=-0x1),_0x417786++;}}function create_board(_0x4758bd,_0x23f099){var _0x40b196=_0x487a8a;board=Array(board_height);var _0x58e49e=0x0,_0xb414d8=0x0,_0xd43e9=[];while(_0x58e49e<board_height){_0xb414d8=0x0,_0xd43e9=[];while(_0xb414d8<board_width){_0xd43e9[_0x40b196(0x17e)]([0x0,0x0]),_0xb414d8++;}board[_0x40b196(0x19b)](_0xd43e9,_0x58e49e),_0x58e49e++;}var _0x20f800;(window_grid(window[_0x40b196(0x195)]-0xf,board_height)+0x2)*board_width<window[_0x40b196(0x1a8)]-0x96?_0x20f800=window_grid(window[_0x40b196(0x195)]-0xf,board_height):_0x20f800=window_grid(window['innerWidth']-0x96,board_width);var _0x1fb110=_0x20f800['toString']()+'px',_0x3a7915=_0x20f800['toString']()+'px';_0x58e49e=0x1;var _0xf51a35=document[_0x40b196(0x1a6)](_0x40b196(0x183));while(_0x58e49e<_0x4758bd){_0x1fb110=_0x1fb110+'\x20'+_0x20f800[_0x40b196(0x18e)]()+'px',_0x58e49e++;}_0x58e49e=0x1;while(_0x58e49e<_0x23f099){_0x3a7915=_0x3a7915+'\x20'+_0x20f800[_0x40b196(0x18e)]()+'px',_0x58e49e++;}_0xf51a35['style'][_0x40b196(0x1ac)]=_0x1fb110,_0xf51a35[_0x40b196(0x17f)][_0x40b196(0x186)]=_0x3a7915;var _0x327ad1=board_width*_0x20f800+0x2*board_width;_0xf51a35[_0x40b196(0x17f)][_0x40b196(0x19e)]=_0x327ad1[_0x40b196(0x18e)]()+'px';var _0x1c30b3=window[_0x40b196(0x1a8)]-_0x327ad1;_0xf51a35['style'][_0x40b196(0x178)]=Math[_0x40b196(0x190)](_0x1c30b3/0x2)[_0x40b196(0x18e)]()+'px',_0x58e49e=0x0;var _0xb414d8=board_height-0x1;_0xf51a35=document[_0x40b196(0x1a6)](_0x40b196(0x183));var _0x5a856c;while(_0xb414d8>=0x0){_0x58e49e=0x0;while(_0x58e49e<board_width){_0x5a856c=document[_0x40b196(0x18a)](_0x40b196(0x18d)),_0x5a856c[_0x40b196(0x1a9)]=_0x40b196(0x187),_0x5a856c[_0x40b196(0x17d)]('id',_0xb414d8['toString']()+'\x20'+_0x58e49e[_0x40b196(0x18e)]()),_0xf51a35[_0x40b196(0x1a1)](_0x5a856c),_0x58e49e++;}_0xb414d8--;}build_walls();}function set_direction(_0x1c5099){var _0x3583c0=_0x487a8a;up=board_height,down=0x0,right=board_width,left=0x0,motion[_0x3583c0(0x193)]=0x0,motion['horizontal']=0x0;if(_0x1c5099==0x0)up=board_height+0x8,motion[_0x3583c0(0x193)]=-0x1;else{if(_0x1c5099==0x1)right=board_width+0x8,motion[_0x3583c0(0x177)]=-0x1;else{if(_0x1c5099==0x2)down=-0x8,motion['vertical']=0x1;else _0x1c5099==0x3&&(left=-0x8,motion[_0x3583c0(0x177)]=0x1);}}}function random_integer(_0x373665,_0x5a8481){var _0x184dd0=_0x487a8a;return Math['floor'](Math[_0x184dd0(0x188)]()*(_0x5a8481-_0x373665+0x1)+_0x373665);}function select_chute(_0x4504cc,_0x2ea3a4){var _0x36b4e0=_0x487a8a,_0x225794=random_integer(_0x4504cc,_0x2ea3a4);return motion[_0x36b4e0(0x176)]=_0x225794,motion[_0x36b4e0(0x181)]=chutes[_0x225794][0x1],set_direction(motion['direction']),[chutes[_0x225794][0x0][0x0],chutes[_0x225794][0x0][0x1]];}function resume_game(_0x4abee4){var _0x417b58=_0x487a8a;if(_0x4abee4[_0x417b58(0x19c)]==0x50){var _0x4a17a3=document[_0x417b58(0x1a6)](_0x417b58(0x1aa));_0x4a17a3['setAttribute'](_0x417b58(0x192),_0x417b58(0x175)),_0x4a17a3['setAttribute'](_0x417b58(0x189),_0x417b58(0x19d)),timer1=setInterval(block_fall,fall_speed),timer2=setInterval(block_check,0xc8),game_paused=![];}}function pause_game(){var _0x3bdf8d=_0x487a8a;clearInterval(timer1),clearInterval(timer2);var _0x48da32=document['getElementById']('game');_0x48da32[_0x3bdf8d(0x17d)](_0x3bdf8d(0x192),_0x3bdf8d(0x17a)),_0x48da32[_0x3bdf8d(0x197)](_0x3bdf8d(0x189)),game_paused=!![];}function set_previous_block(_0x16c157){var _0x52400e,_0x33d668=0x0;previous_block[0x1][0x0]=_0x16c157[0x4][0x0],previous_block[0x1][0x1]=_0x16c157[0x4][0x1];while(_0x33d668<0x4){_0x52400e=0x0;while(_0x52400e<0x4){previous_block[0x0][_0x33d668][_0x52400e]=_0x16c157[0x0][_0x33d668][_0x52400e],_0x52400e++;}_0x33d668++;}}function set_previous_shadow(_0x35e404){previous_shadow[0x1][0x0]=_0x35e404[0x0],previous_shadow[0x1][0x1]=_0x35e404[0x1];var _0x3cdbac=0x0,_0x207bf7=0x0;while(_0x3cdbac<0x4){_0x207bf7=0x0;while(_0x207bf7<0x4){previous_shadow[0x0][_0x207bf7][_0x3cdbac]=block[0x0][_0x207bf7][_0x3cdbac],_0x207bf7++;}_0x3cdbac++;}}function game_over(){var _0x1727a3=_0x487a8a,_0x22a080=document[_0x1727a3(0x1a6)](_0x1727a3(0x1aa));_0x22a080[_0x1727a3(0x197)](_0x1727a3(0x192)),_0x22a080[_0x1727a3(0x197)]('onkeyup'),clearInterval(timer1),clearInterval(timer2);}function set_speed(_0x547519){speed=_0x547519,fall_speed=_0x547519,clearInterval(timer1),timer1=setInterval(block_fall,fall_speed);}function set_level(){var _0x459eeb=_0x487a8a;line_count>=0x5&&(level++,score=score+0x3e8,line_count=line_count%0x5,set_speed(Math[_0x459eeb(0x190)](0x2/0x3*fall_speed)));}function draw_level(){}function draw_score(){}function random_block(){var _0x3dd496=_0x487a8a;is_falling=!![],stuck_timer=0x0;var _0x2b0e1e=random_integer(0x0,blocks[_0x3dd496(0x179)]-0x1),_0x2e9019=[[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],0x0,0x0,0x0];_0x2e9019[0x1]=random_integer(0x1,colors[_0x3dd496(0x179)]-0x1);var _0x54f9e4=0x0,_0x28ffc6=0x0;while(_0x54f9e4<0x4){_0x28ffc6=0x0;while(_0x28ffc6<0x4){_0x2e9019[0x0][_0x54f9e4][_0x28ffc6]=blocks[_0x2b0e1e][0x0][_0x54f9e4][_0x28ffc6],_0x28ffc6++;}_0x54f9e4++;}return _0x2e9019[0x2]=blocks[_0x2b0e1e][0x2],_0x2e9019[0x3]=blocks[_0x2b0e1e][0x3],_0x2e9019['push'](select_chute(0x0,chutes['length']-0x1)),set_previous_block(_0x2e9019),!check_block_position(_0x2e9019[0x0],_0x2e9019[0x4])&&game_over(),block_count++,set_level(),score++,_0x2e9019;}create_board(board_width,board_height);var block=random_block();block_ready=!![];var timer1=setInterval(block_fall,fall_speed),timer2=setInterval(block_check,0x32);function rotated_stair_xval(_0x5c5206,_0x4bee6a){var _0x2ba62b=_0x487a8a,_0x5955d3=0x0;if(_0x4bee6a>0x0)_0x5955d3=Math[_0x2ba62b(0x190)](_0x5c5206);else{if(_0x4bee6a<0x0)_0x5955d3=Math['ceil'](_0x5c5206);else motion[_0x2ba62b(0x184)]?_0x5955d3=Math[_0x2ba62b(0x190)](_0x5c5206):_0x5955d3=Math[_0x2ba62b(0x1a2)](_0x5c5206);}return _0x5955d3;}function rotated_stair_yval(_0xe8ff1c,_0x386f2e){var _0xe529dc=_0x487a8a,_0x5f3d1a=0x0;if(_0x386f2e>0x0)_0x5f3d1a=Math[_0xe529dc(0x190)](_0xe8ff1c);else{if(_0x386f2e<0x0)_0x5f3d1a=Math['ceil'](_0xe8ff1c);else motion['rotate']?_0x5f3d1a=Math[_0xe529dc(0x190)](_0xe8ff1c):_0x5f3d1a=Math[_0xe529dc(0x1a2)](_0xe8ff1c);}return _0x5f3d1a;}function on_board(_0x367565,_0x55daad){if(_0x367565<0x0||_0x55daad<0x0||_0x367565>board_width-0x1||_0x55daad>board_height-0x1)return![];return!![];}function max(_0x449377,_0x3d8fd0){if(_0x449377>_0x3d8fd0)return _0x449377;return _0x3d8fd0;}function distance(_0x48d00b,_0x229378){var _0x2b8bd6=_0x487a8a;return Math[_0x2b8bd6(0x1a4)](Math[_0x2b8bd6(0x199)](_0x48d00b[0x0]-_0x229378[0x0],0x2)+Math[_0x2b8bd6(0x199)](_0x48d00b[0x1]-_0x229378[0x1],0x2));}function abs(_0x2c8720){if(_0x2c8720<0x0)return-0x1*_0x2c8720;return _0x2c8720;}function check_block_position(_0x4c2471,_0x360bc2){var _0x13b170=_0x487a8a,_0x5513d1,_0xbf781=0x0,_0xa1b49a=_0x360bc2[0x1]-0x1,_0x2fc770=_0x360bc2[0x0];while(_0xbf781<0x4){_0x5513d1=0x0;while(_0x5513d1<0x4){if(_0x4c2471[_0xbf781][_0x5513d1]==0x1&&(_0x2fc770+_0xbf781<down||_0xa1b49a+_0x5513d1<left||_0x2fc770+_0xbf781>up||_0xa1b49a+_0x5513d1>right||on_board(_0xa1b49a+_0x5513d1,_0x2fc770+_0xbf781)&&board[Math[_0x13b170(0x190)](_0x2fc770+_0xbf781)][Math[_0x13b170(0x190)](_0xa1b49a+_0x5513d1)][0x0]!=0x0))return![];_0x5513d1++;}_0xbf781++;}return!![];}function rotate(_0x4de58e,_0x40597b,_0x428072){var _0x1a56d6=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x2feb17=0x1,_0x172032=0x1;_0x40597b>0x2&&(_0x172032=0x0);_0x428072>0x2&&(_0x2feb17=0x0);var _0x2b8a1a=0x0,_0x4e002a=0x0;while(_0x2b8a1a<0x4){_0x4e002a=0x0;while(_0x4e002a<0x4){_0x4de58e[_0x4e002a][_0x2b8a1a]==0x1&&(_0x1a56d6[_0x428072-_0x2b8a1a-0x1+_0x2feb17][_0x4e002a+_0x172032]=0x1),_0x4e002a=_0x4e002a+0x1;}_0x2b8a1a=_0x2b8a1a+0x1;}return _0x1a56d6;}function check_space(_0x4d4f8d,_0x5f00b6,_0x4bd28){var _0xe5bd35=_0x487a8a,_0x2f370b=_0x4d4f8d/0x2,_0x451cc1=_0x5f00b6/0x2,_0x334356=_0x4bd28[0x0],_0x5439c2=_0x4bd28[0x1],_0x3a2d86=_0x5439c2,_0x31f113=_0x334356,_0x56aa8b,_0x41ffd2;while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x2f370b){_0x41ffd2=0x0;(_0x3a2d86>=board_height||abs(_0x3a2d86-_0x5439c2)>=_0x2f370b)&&(_0x41ffd2=0.5);while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x2f370b){_0x56aa8b=0x0;_0x31f113>=board_width&&(_0x56aa8b=0.5);if(_0x31f113<left||_0x31f113>right||_0x3a2d86<down||_0x3a2d86>up||on_board(_0x31f113,_0x3a2d86)&&board[Math[_0xe5bd35(0x190)](_0x3a2d86-_0x41ffd2)][Math[_0xe5bd35(0x190)](_0x31f113-_0x56aa8b)][0x0]!=0x0)return![];_0x31f113=_0x31f113-0.5;}_0x31f113=_0x334356,_0x3a2d86=_0x3a2d86+0.5;}_0x3a2d86=_0x5439c2,_0x31f113=_0x334356;while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x2f370b){_0x41ffd2=0x0;_0x3a2d86>=board_height&&(_0x41ffd2=0.5);while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x2f370b){_0x56aa8b=0x0;(_0x31f113>=board_width||abs(_0x31f113-_0x334356)>=_0x2f370b)&&(_0x56aa8b=0.5);if(_0x31f113<left||_0x31f113>right||_0x3a2d86<down||_0x3a2d86>up||on_board(_0x31f113,_0x3a2d86)&&board[Math[_0xe5bd35(0x190)](_0x3a2d86-_0x41ffd2)][Math[_0xe5bd35(0x190)](_0x31f113-_0x56aa8b)][0x0]!=0x0)return![];_0x31f113=_0x31f113+0.5;}_0x31f113=_0x334356,_0x3a2d86=_0x3a2d86-0.5;}_0x3a2d86=_0x5439c2,_0x31f113=_0x334356;while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x451cc1){_0x41ffd2=0x0;(_0x3a2d86>=board_height||abs(_0x3a2d86-_0x5439c2)>=_0x451cc1)&&(_0x41ffd2=0.5);while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x451cc1){_0x56aa8b=0x0;(_0x31f113>=board_width||abs(_0x334356-_0x31f113)>=_0x451cc1)&&(_0x56aa8b=0.5);if(_0x31f113<left||_0x31f113>right||_0x3a2d86<down||_0x3a2d86>up||on_board(_0x31f113,_0x3a2d86)&&board[Math[_0xe5bd35(0x190)](_0x3a2d86-_0x41ffd2)][Math[_0xe5bd35(0x190)](_0x31f113-_0x56aa8b)][0x0]!=0x0)return![];_0x31f113=_0x31f113+0.5;}_0x31f113=_0x334356,_0x3a2d86=_0x3a2d86+0.5;}_0x3a2d86=_0x5439c2,_0x31f113=_0x334356;while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x451cc1){_0x41ffd2=0x0;_0x3a2d86>=board_height&&(_0x41ffd2=0.5);while(distance(_0x4bd28,[_0x31f113,_0x3a2d86])<=_0x451cc1){_0x56aa8b=0x0;_0x31f113>=board_width&&(_0x56aa8b=0.5);if(_0x31f113<left||_0x31f113>right||_0x3a2d86<down||_0x3a2d86>up||on_board(_0x31f113,_0x3a2d86)&&board[Math[_0xe5bd35(0x190)](_0x3a2d86-_0x41ffd2)][Math[_0xe5bd35(0x190)](_0x31f113-_0x56aa8b)][0x0]!=0x0)return![];_0x31f113=_0x31f113-0.5;}_0x31f113=_0x334356,_0x3a2d86=_0x3a2d86-0.5;}return!![];}function rotate_space(_0x2c8005){var _0x2aacc1=_0x487a8a,_0xf6a9ce=max(_0x2c8005[0x2],_0x2c8005[0x3]),_0x1e5192=_0x2c8005[0x2],_0x55d321=_0x2c8005[0x3],_0x417def=_0x2c8005[0x4],_0x5d5613=rotate(_0x2c8005[0x0],_0x2c8005[0x2],_0x2c8005[0x3]),_0x56ec02=_0x1e5192/0x2,_0x22e260=_0x55d321/0x2,_0x2447a7=_0x417def[0x0],_0x5c8c75=_0x417def[0x1],_0x517096=[];_0x55d321<0x3?_0x517096[_0x2aacc1(0x17e)](_0x5c8c75+_0x22e260):_0x517096['push'](_0x5c8c75+_0x22e260-0x1);_0x517096[_0x2aacc1(0x17e)](_0x2447a7+_0x56ec02),_0x2447a7=_0x517096[0x1]-_0x55d321/0x2,_0x5c8c75=_0x517096[0x0]-_0x1e5192/0x2;_0x1e5192>0x2&&_0x5c8c75++;var _0x1d3918=0x0,_0x6d3edc;while(_0x1d3918<=_0xf6a9ce/0x2){_0x6d3edc=0x0;while(_0x6d3edc<=_0xf6a9ce/0x2){if(check_space(_0x55d321,_0x1e5192,[_0x517096[0x0]+_0x1d3918,_0x517096[0x1]+_0x6d3edc])&&check_block_position(_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]))return[_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]];_0x6d3edc=_0x6d3edc+0.5;}_0x6d3edc=-0.5;while(_0x6d3edc>=-0x1*_0xf6a9ce/0x2){if(check_space(_0x55d321,_0x1e5192,[_0x517096[0x0]+_0x1d3918,_0x517096[0x1]+_0x6d3edc])&&check_block_position(_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]))return[_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]];_0x6d3edc=_0x6d3edc-0.5;}_0x1d3918=_0x1d3918+0.5;}_0x1d3918=-0.5;while(_0x1d3918>=-0x1*_0xf6a9ce/0x2){_0x6d3edc=0x0;while(_0x6d3edc<=_0xf6a9ce/0x2){if(check_space(_0x55d321,_0x1e5192,[_0x517096[0x0]+_0x1d3918,_0x517096[0x1]+_0x6d3edc])&&check_block_position(_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]))return[_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]];_0x6d3edc=_0x6d3edc+0.5;}_0x6d3edc=-0.5;while(_0x6d3edc>=-0x1*_0xf6a9ce/0x2){if(check_space(_0x55d321,_0x1e5192,[_0x517096[0x0]+_0x1d3918,_0x517096[0x1]+_0x6d3edc])&&check_block_position(_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]))return[_0x5d5613,[rotated_stair_yval(_0x2447a7+_0x6d3edc,_0x6d3edc),rotated_stair_xval(_0x5c8c75+_0x1d3918,_0x1d3918)]];_0x6d3edc=_0x6d3edc-0.5;}_0x1d3918=_0x1d3918-0.5;}return![];}function rotate_block(_0x16a04e){var _0x4e4c0f=_0x487a8a,_0x25642e=_0x16a04e[0x2],_0x594227=_0x16a04e[0x3],_0x60b25=rotate_space(_0x16a04e);if(_0x60b25){var _0x53c0c5=[[],_0x16a04e[0x1],_0x594227,_0x25642e,[]];return _0x53c0c5[0x0]=_0x60b25[0x0],_0x53c0c5[0x4][_0x4e4c0f(0x17e)](_0x60b25[0x1][0x0]),_0x53c0c5[0x4]['push'](_0x60b25[0x1][0x1]),_0x53c0c5;}return _0x16a04e;}function draw_board(){var _0xd6aff0=_0x487a8a,_0x43f5b6=0x0,_0x1132df=0x0,_0x1d6f91;while(_0x1132df<board_height){_0x43f5b6=0x0;while(_0x43f5b6<board_width){_0x1d6f91=document[_0xd6aff0(0x1a6)](_0x1132df[_0xd6aff0(0x18e)]()+'\x20'+_0x43f5b6[_0xd6aff0(0x18e)]()),board[_0x1132df][_0x43f5b6][0x0]==0x1?_0x1d6f91[_0xd6aff0(0x1a9)]=colors[board[_0x1132df][_0x43f5b6][0x1]]:_0x1d6f91[_0xd6aff0(0x1a9)]=_0xd6aff0(0x187),_0x43f5b6++;}_0x1132df++;}build_walls();}function draw_circles(_0x3a5d58){var _0x21c082=_0x487a8a;if(_0x3a5d58['className']==_0x21c082(0x187)){var _0x5063df=document[_0x21c082(0x18a)](_0x21c082(0x18d));_0x5063df[_0x21c082(0x1a9)]='circle',_0x3a5d58[_0x21c082(0x1a1)](_0x5063df);}}function draw_block(){var _0x3e49c4=_0x487a8a,_0x89594f,_0x20b5be=previous_block[0x1][0x1]-0x1,_0x3dafb7=previous_block[0x1][0x0],_0x1b24c8=0x0,_0x3140e2=0x0;while(_0x3140e2<0x4){_0x1b24c8=0x0;while(_0x1b24c8<0x4){on_board(_0x20b5be+_0x1b24c8,_0x3dafb7+_0x3140e2)&&previous_block[0x0][_0x3140e2][_0x1b24c8]==0x1&&(_0x89594f=document[_0x3e49c4(0x1a6)]((_0x3dafb7+_0x3140e2)['toString']()+'\x20'+(_0x20b5be+_0x1b24c8)[_0x3e49c4(0x18e)]()),_0x89594f[_0x3e49c4(0x1a9)]='empty'),_0x1b24c8++;}_0x3140e2++;}_0x1b24c8=0x0,_0x3140e2=0x0,_0x20b5be=block[0x4][0x1]-0x1,_0x3dafb7=block[0x4][0x0];while(_0x3140e2<0x4){_0x1b24c8=0x0;while(_0x1b24c8<0x4){on_board(_0x20b5be+_0x1b24c8,_0x3dafb7+_0x3140e2)&&block[0x0][_0x3140e2][_0x1b24c8]==0x1&&(_0x89594f=document[_0x3e49c4(0x1a6)]((_0x3dafb7+_0x3140e2)['toString']()+'\x20'+(_0x20b5be+_0x1b24c8)[_0x3e49c4(0x18e)]()),_0x89594f[_0x3e49c4(0x1a9)]=colors[block[0x1]]),_0x1b24c8++;}_0x3140e2++;}}function draw_shadow(_0x323394){var _0x43a018=_0x487a8a,_0x5d3816,_0x4a4d7d=previous_shadow[0x1][0x1]-0x1,_0x3b643d=previous_shadow[0x1][0x0],_0x267a1f=0x0,_0x371a4b=0x0;while(_0x371a4b<0x4){_0x267a1f=0x0;while(_0x267a1f<0x4){on_board(_0x4a4d7d+_0x267a1f,_0x3b643d+_0x371a4b)&&previous_shadow[0x0][_0x371a4b][_0x267a1f]==0x1&&(_0x5d3816=document[_0x43a018(0x1a6)]((_0x3b643d+_0x371a4b)[_0x43a018(0x18e)]()+'\x20'+(_0x4a4d7d+_0x267a1f)[_0x43a018(0x18e)]()),remove_children(_0x5d3816)),_0x267a1f++;}_0x371a4b++;}_0x267a1f=0x0,_0x371a4b=0x0,_0x4a4d7d=_0x323394[0x1]-0x1,_0x3b643d=_0x323394[0x0];while(_0x371a4b<0x4){_0x267a1f=0x0;while(_0x267a1f<0x4){on_board(_0x4a4d7d+_0x267a1f,_0x3b643d+_0x371a4b)&&block[0x0][_0x371a4b][_0x267a1f]==0x1&&(_0x5d3816=document['getElementById']((_0x3b643d+_0x371a4b)[_0x43a018(0x18e)]()+'\x20'+(_0x4a4d7d+_0x267a1f)[_0x43a018(0x18e)]()),draw_circles(_0x5d3816)),_0x267a1f++;}_0x371a4b++;}}function print_board(){var _0x8cf59d=_0x487a8a,_0x50ca96=[],_0x3dd1c1=0x0,_0x19eac6=0x0;while(_0x3dd1c1<board_height){_0x50ca96[_0x8cf59d(0x17e)]([0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]),_0x3dd1c1++;}_0x3dd1c1=0x0;while(_0x3dd1c1<board_height){_0x19eac6=0x0;while(_0x19eac6<board_width){_0x50ca96[_0x3dd1c1][_0x19eac6]=board[_0x3dd1c1][_0x19eac6],_0x19eac6++;}_0x3dd1c1++;}var _0x3552bb=block[0x4],_0xa6a894=_0x3552bb[0x0],_0x1c0044=_0x3552bb[0x1]-0x1;_0x3dd1c1=0x0;var _0x19eac6=0x0;while(_0x19eac6<0x4){_0x3dd1c1=0x0;while(_0x3dd1c1<0x4){_0x1c0044+_0x3dd1c1>=0x0&&_0x1c0044+_0x3dd1c1<board_width&&_0xa6a894+_0x19eac6<board_height&&_0xa6a894+_0x19eac6>=0x0&&block[0x0][_0x19eac6][_0x3dd1c1]==0x1&&(_0x50ca96[_0xa6a894+_0x19eac6][_0x1c0044+_0x3dd1c1]=0x1),_0x3dd1c1++;}_0x19eac6++;}_0x3dd1c1=0xd;while(_0x3dd1c1>=0x0){console[_0x8cf59d(0x1a0)](_0x50ca96[_0x3dd1c1]),_0x3dd1c1--;}}function print_block(_0x5d0ea7){var _0x1a1eb8=_0x487a8a,_0x17ceba=0x3;while(_0x17ceba>-0x1){console[_0x1a1eb8(0x1a0)](_0x5d0ea7[0x0][_0x17ceba]),_0x17ceba=_0x17ceba-0x1;}return 0x0;}function secure_block(){var _0x40c2f8=block[0x4][0x1]-0x1,_0x49bae5=block[0x4][0x0],_0xe4c6b8=0x0,_0x139745=0x0;while(_0x139745<0x4){_0xe4c6b8=0x0;while(_0xe4c6b8<0x4){_0x40c2f8+_0xe4c6b8>=0x0&&_0x40c2f8+_0xe4c6b8<board_width&&_0x49bae5+_0x139745>=0x0&&_0x49bae5+_0x139745<board_height&&block[0x0][_0x139745][_0xe4c6b8]==0x1&&(board[_0x49bae5+_0x139745][_0x40c2f8+_0xe4c6b8][0x0]=0x1,board[_0x49bae5+_0x139745][_0x40c2f8+_0xe4c6b8][0x1]=block[0x1]),_0xe4c6b8++;}_0x139745++;}_0xe4c6b8=block[0x4][0x1]-0x1;while(_0xe4c6b8<=_0x40c2f8+0x3){_0x49bae5+block[0x2]-0x1>last_row[_0xe4c6b8]&&(last_row[_0xe4c6b8]=_0x49bae5+block[0x2]-0x1),_0xe4c6b8++;}}function move_row_down(_0x1a7be8,_0xfc70e2){var _0x5e0176=0x0;while(_0x5e0176<board_width){board[_0x1a7be8][_0x5e0176][0x0]=board[_0x1a7be8+_0xfc70e2][_0x5e0176][0x0],board[_0x1a7be8][_0x5e0176][0x1]=board[_0x1a7be8+_0xfc70e2][_0x5e0176][0x1],_0x5e0176++;}}function empty_row(_0x152994){var _0x3065ab=0x0;while(_0x3065ab<board_width){board[_0x152994][_0x3065ab][0x0]=0x0,board[_0x152994][_0x3065ab][0x1]=0x0,_0x3065ab++;}}function clear_lines(){var _0x5e9a10=_0x487a8a,_0x13b2a4=0x0,_0x257ecc=block[0x4][0x0],_0x392183=0x0,_0x491546=block[0x2],_0x2e864c=0x0,_0x11e324=[];while(_0x392183<_0x491546){_0x2e864c=0x0,_0x13b2a4=0x0;while(_0x13b2a4<board_width){on_board(_0x13b2a4,_0x257ecc+_0x392183)&&board[_0x257ecc+_0x392183][_0x13b2a4][0x0]!=0x0&&_0x2e864c++,_0x13b2a4++;}_0x2e864c==_0x13b2a4&&_0x11e324[_0x5e9a10(0x17e)](_0x257ecc+_0x392183),_0x392183++;}_0x392183=0x0,line_count=line_count+_0x11e324[_0x5e9a10(0x179)],score=score+0x32*_0x11e324[_0x5e9a10(0x179)];while(_0x392183<board_width){move_column_down(_0x392183,_0x11e324),_0x392183++;}}function move_column_down(_0x503d60,_0x5b4914){var _0x5c1f9e=_0x487a8a,_0x2ed7da=0x0,_0x22cc27,_0x1575c3=0x0;while(_0x2ed7da<_0x5b4914[_0x5c1f9e(0x179)]-0x1){_0x22cc27=_0x5b4914[_0x2ed7da]-_0x1575c3;while(_0x22cc27<_0x5b4914[_0x2ed7da+0x1]-_0x1575c3-0x1&&board[_0x22cc27+_0x1575c3+0x1][_0x503d60][0x0]>=0x0){board[_0x22cc27][_0x503d60][0x0]=board[_0x22cc27+_0x1575c3+0x1][_0x503d60][0x0],board[_0x22cc27][_0x503d60][0x1]=board[_0x22cc27+_0x1575c3+0x1][_0x503d60][0x1],_0x22cc27++;}_0x1575c3++,(board[_0x22cc27+_0x1575c3+0x1][_0x503d60][0x0]<0x0||board[_0x22cc27][_0x503d60][0x0]<0x0)&&(_0x1575c3=0x0),_0x2ed7da++;}if(_0x2ed7da<_0x5b4914[_0x5c1f9e(0x179)]){_0x22cc27=_0x5b4914[_0x2ed7da]-_0x1575c3;while(_0x22cc27<=last_row[_0x503d60]-_0x1575c3-0x1&&board[_0x22cc27+_0x1575c3+0x1][_0x503d60][0x0]>=0x0){board[_0x22cc27][_0x503d60][0x0]=board[_0x22cc27+_0x1575c3+0x1][_0x503d60][0x0],board[_0x22cc27][_0x503d60][0x1]=board[_0x22cc27+_0x1575c3+0x1][_0x503d60][0x1],_0x22cc27++;}while(_0x22cc27<=last_row[_0x503d60]&&board[_0x22cc27][_0x503d60][0x0]>=0x0){board[_0x22cc27][_0x503d60][0x0]=0x0,board[_0x22cc27][_0x503d60][0x1]=0x0,_0x22cc27++;}last_row[_0x503d60]=last_row[_0x503d60]-_0x1575c3-0x1;}}function clear(_0x1ba110,_0x2a0f38){var _0x10e6fa=_0x487a8a,_0x12376b,_0x2a0f38=0x0,_0x2d493d=0x0;while(_0x2a0f38<_0x1ba110[_0x10e6fa(0x179)]-0x1){_0x12376b=_0x1ba110[_0x2a0f38]-_0x2d493d;while(_0x12376b<_0x1ba110[_0x2a0f38+0x1]-_0x2a0f38-0x1){move_row_down(_0x12376b,_0x2a0f38+0x1),_0x12376b++;}_0x2a0f38++;}if(_0x2a0f38<_0x1ba110['length']){_0x12376b=_0x1ba110[_0x2a0f38]-_0x2a0f38;while(_0x12376b<=last_row-_0x2a0f38-0x1){move_row_down(_0x12376b,_0x2a0f38+0x1),_0x12376b++;}while(_0x12376b<=last_row){empty_row(_0x12376b),_0x12376b++;}last_row=last_row-_0x2a0f38-0x1;}}function check_below_block(_0x47f001,_0x5809bb){var _0x458314=_0x487a8a,_0x199193=block[0x4][0x1]-0x1,_0x601678=block[0x4][0x0],_0x37abb5=0x0,_0x2c4daa=0x0;while(_0x2c4daa<0x4){_0x37abb5=0x0;while(_0x37abb5<0x4){if(!shifts[motion[_0x458314(0x181)]](block,block[0x4],!![]))return is_falling=_0x47f001&&![]||_0x5809bb,!![];_0x37abb5++;}_0x2c4daa++;}return is_falling=_0x47f001&&!![]||_0x5809bb,stuck_timer=0x0,![];}function drop_position(){var _0x3302ca=_0x487a8a,_0x1e3d33=[];_0x1e3d33['push'](block[0x4][0x0]),_0x1e3d33[_0x3302ca(0x17e)](block[0x4][0x1]);while(shifts[motion['direction']](block,_0x1e3d33,!![])){_0x1e3d33[0x0]=_0x1e3d33[0x0]+motion[_0x3302ca(0x193)],_0x1e3d33[0x1]=_0x1e3d33[0x1]+motion[_0x3302ca(0x177)];}return _0x1e3d33;}function block_fall(){var _0x50ba68=_0x487a8a;if(is_falling)flag==![]&&mutex(),flag=![],block[0x4]=shifts[motion[_0x50ba68(0x181)]](block,block[0x4],![]),check_below_block(!![],![]);else stuck_timer>=0x7d0?(flag==![]&&mutex(),flag=![],block_ready=![],secure_block(),clear_lines(),block=random_block(),block_ready=!![],draw_board()):stuck_timer=stuck_timer+fall_speed;flag=!![];}function block_check(){flag==![]&&mutex();flag=![],draw_block(),set_previous_block(block);var _0xe44bf6=drop_position();draw_shadow(_0xe44bf6),set_previous_shadow(_0xe44bf6),flag=!![];}function shift_up(_0x178eef,_0xe0afee,_0x482750){var _0x40662f=_0x178eef[0x2],_0x6c2978=_0xe0afee[0x1]-0x1,_0x10db35=_0xe0afee[0x0],_0x35dfea=0x0,_0x33b6da=0x0,_0x466e99=0x0,_0x3f3bde=_0x178eef[0x3];_0x178eef[0x3]<0x3&&_0x466e99++;while(_0x33b6da<_0x40662f){_0x35dfea=_0x466e99;while(_0x178eef[0x0][_0x33b6da][_0x35dfea]!=0x1){_0x35dfea++;}while(_0x35dfea<_0x3f3bde+_0x466e99){if(on_board(_0x6c2978+_0x35dfea,_0x10db35+_0x33b6da)&&_0x178eef[0x0][_0x33b6da][_0x35dfea]==0x1&&(!on_board(_0x6c2978+_0x35dfea,_0x10db35+_0x33b6da+0x1)||board[_0x10db35+_0x33b6da+0x1][_0x6c2978+_0x35dfea][0x0]!=0x0)){if(_0x482750)return![];return _0xe0afee;}_0x35dfea++;}_0x33b6da++;}if(_0x482750)return!![];return[_0x10db35+0x1,_0xe0afee[0x1]];}function shift_down(_0x471df6,_0x226030,_0x5babd3){var _0x3a5ae0=_0x471df6[0x2],_0x43d951=_0x226030[0x1]-0x1,_0x2cc5ea=_0x226030[0x0],_0xe165ca=0x0,_0x5d080e=0x0,_0x5d46b6=0x0,_0x63ddc5=_0x471df6[0x3];_0x471df6[0x3]<0x3&&_0x5d46b6++;while(_0x5d080e<_0x3a5ae0){_0xe165ca=_0x5d46b6;while(_0x471df6[0x0][_0x5d080e][_0xe165ca]!=0x1){_0xe165ca++;}while(_0xe165ca<_0x63ddc5+_0x5d46b6){if(on_board(_0x43d951+_0xe165ca,_0x2cc5ea+_0x5d080e)&&_0x471df6[0x0][_0x5d080e][_0xe165ca]==0x1&&(!on_board(_0x43d951+_0xe165ca,_0x2cc5ea+_0x5d080e-0x1)||board[_0x2cc5ea+_0x5d080e-0x1][_0x43d951+_0xe165ca][0x0]!=0x0)){if(_0x5babd3)return![];return _0x226030;}_0xe165ca++;}_0x5d080e++;}if(_0x5babd3)return!![];return[_0x2cc5ea-0x1,_0x226030[0x1]];}function shift_right(_0x2bf95f,_0x6c986c,_0x378aa8){var _0xfe8c27=_0x2bf95f[0x2],_0x56fa46=_0x6c986c[0x1]+0x2,_0x56d160=_0x6c986c[0x0],_0xa6ad4a=0x0,_0x3f626a=0x0,_0x51b174=0x3;_0x2bf95f[0x3]<0x4&&(_0x56fa46--,_0x51b174--);_0x2bf95f[0x3]<0x2&&(_0x56fa46--,_0x51b174--);while(_0x3f626a<_0xfe8c27){_0xa6ad4a=0x0;while(_0x2bf95f[0x0][_0x3f626a][_0x51b174-_0xa6ad4a]!=0x1){_0xa6ad4a++;}while(_0xa6ad4a<=_0x51b174){if(on_board(_0x56fa46-_0xa6ad4a,_0x56d160+_0x3f626a)&&_0x2bf95f[0x0][_0x3f626a][_0x51b174-_0xa6ad4a]==0x1&&(!on_board(_0x56fa46-_0xa6ad4a+0x1,_0x56d160+_0x3f626a)||board[_0x56d160+_0x3f626a][_0x56fa46-_0xa6ad4a+0x1][0x0]!=0x0)){if(_0x378aa8)return![];return _0x6c986c;}_0xa6ad4a++;}_0x3f626a++;}if(_0x378aa8)return!![];return[_0x56d160,_0x6c986c[0x1]+0x1];}function shift_left(_0x15d64f,_0x4ee17a,_0x1e7740){var _0x5dffd3=_0x15d64f[0x2],_0x595575=_0x4ee17a[0x1]-0x1,_0xc33b5d=_0x4ee17a[0x0],_0x631dc7=0x0,_0x144da7=0x0,_0x530dbe=0x0;_0x15d64f[0x3]<0x3&&_0x530dbe++;while(_0x144da7<_0x5dffd3){_0x631dc7=_0x530dbe;while(_0x15d64f[0x0][_0x144da7][_0x631dc7]!=0x1){_0x631dc7++;}while(_0x631dc7<0x4){if(on_board(_0x595575+_0x631dc7,_0xc33b5d+_0x144da7)&&_0x15d64f[0x0][_0x144da7][_0x631dc7]==0x1&&(!on_board(_0x595575+_0x631dc7-0x1,_0xc33b5d+_0x144da7)||board[_0xc33b5d+_0x144da7][_0x595575+_0x631dc7-0x1][0x0]!=0x0)){if(_0x1e7740)return![];return _0x4ee17a;}_0x631dc7++;}_0x144da7++;}if(_0x1e7740)return!![];return[_0xc33b5d,_0x4ee17a[0x1]-0x1];}function move_block(_0x3cdbb5){var _0x5764b3=_0x487a8a;if(_0x3cdbb5==keys[motion[_0x5764b3(0x181)]][_0x5764b3(0x17c)])block_ready=![],is_falling=![],block[0x4]=drop_position(),secure_block(),clear_lines(),block=random_block(),block_ready=!![],draw_board();else{if(_0x3cdbb5==0x20)block=rotate_block(block),motion[_0x5764b3(0x184)]=!motion[_0x5764b3(0x184)];else{if(_0x3cdbb5==0x25)block[0x4]=shift_left(block,block[0x4],![]);else{if(_0x3cdbb5==0x27)block[0x4]=shift_right(block,block[0x4],![]);else _0x3cdbb5==0x26?block[0x4]=shift_up(block,block[0x4],![]):block[0x4]=shift_down(block,block[0x4],![]);}}}_0x3cdbb5!=keys[motion['direction']][_0x5764b3(0x17c)]&&check_below_block(!![],![]);}function key_released(_0x190373){var _0x16a5a8=_0x487a8a,_0x231055=_0x190373[_0x16a5a8(0x19c)];_0x231055==0x46&&(clearInterval(timer1),fall_speed=speed,timer1=setInterval(block_fall,fall_speed),fast_push=![]);}function key_pushed(_0x4fac09){var _0x22aa3d=_0x487a8a,_0x4668f3=is_falling,_0x5681e5=_0x4fac09[_0x22aa3d(0x19c)];if(_0x5681e5==0x50)pause_game();else{if(block_ready&&(_0x5681e5==0x25||_0x5681e5==0x26||_0x5681e5==0x27||_0x5681e5==0x20||_0x5681e5==0x28)&&_0x5681e5!=keys[motion['direction']][_0x22aa3d(0x18b)])flag==![]&&mutex(),flag=![],stuck_timer=0x0,move_block(_0x5681e5),flag=!![];else _0x5681e5==0x46&&!fast_push&&(clearInterval(timer1),fall_speed=0x1e,timer1=setInterval(block_fall,fall_speed),fast_push=!![]);}}function tetris(){var _0x54553f=_0x487a8a,_0x464368=document[_0x54553f(0x1a6)](_0x54553f(0x185));_0x464368[_0x54553f(0x18f)]=_0x54553f(0x180);var _0x22a21a=0x0;while(_0x22a21a<board_height){board[_0x54553f(0x17e)]([0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]),_0x22a21a=_0x22a21a+0x1;}return console[_0x54553f(0x1a0)](board[0x4][0x3]),print_block(block),block=rotate_block(block),print_block(block),block=rotate_block(block),print_block(block),block=rotate_block(block),print_block(block),block=rotate_block(block),print_block(block),check_space(0x3,0x4,[0x3,8.5])?console['log'](_0x54553f(0x1a3)):console[_0x54553f(0x1a0)]('failure'),0x0;}

</script>









</body>
</html>
