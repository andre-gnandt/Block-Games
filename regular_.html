<!DOCTYPE html>
<html>

<head>

<style>
.grid-container {
  position: relative;
  display: grid;
  width: 922px;
  grid-gap: 2px;
  background-color: #2196F3;
  padding: 4px;
}

.empty{
  background-color: rgba(300, 300, 300, 300);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.full {
  background-color: rgba(0, 0, 0, 300);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.black {
  background-color: rgba(0, 0, 0, 300);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.red{
  background-color: rgba(250, 0, 0, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.red_3d{
  background-color: rgb(255, 153, 153);
  text-align: center;
  padding: 0px;


}

.green{
  background-color: rgba(0, 199, 70, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.turqoise{
  background-color: rgba(0, 250, 237, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.blue{
  background-color: rgba(0, 50, 250, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.purple{
  background-color: rgba(179, 0, 250, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.orange{
  background-color: rgba(250, 121, 0, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.yellow{
  background-color: rgba(250, 217, 0, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.pink{
  background-color: rgba(250, 0, 171, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.lime{
  background-color: rgba(179, 251, 24, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.circle{
  height: 19px;
  width: 19px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-grid;
}

.solid_wall2{
  background-color: rgba(172, 161, 154, 1);
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

.solid_wall{
  background-color: #2196F3;
  text-align: center;
  padding: 0px;
  font-size: 5px;
}

</style>
</head>


<body  id = "game" style="background-color:black;" onkeydown="key_pushed(event)" onkeyup="key_released(event)">

<div class = "grid-container" id = "board">



</div>

<script>


var _0x5de4=['yellow','board','appendChild','vertical','fill','setTimeout','gridTemplateRows','hasChildNodes','orange','blue','red','rotate','horizontal','purple','solid_wall','width','empty','innerHeight','key_pushed(event)','length','resume_game(event)','createElement','green','style','removeChild','div','setAttribute','pow','lime','direction','log','drop','onkeydown','className','removeAttribute','null','sqrt','test','random','toString','keyCode','push','left','circle','getElementById','floor','gridTemplateColumns','pink','ceil','black','innerWidth','game'];(function(_0x2f1410,_0x32b8fa){var _0x5de472=function(_0x4112f6){while(--_0x4112f6){_0x2f1410['push'](_0x2f1410['shift']());}};_0x5de472(++_0x32b8fa);}(_0x5de4,0x140));var _0x4112=function(_0x2f1410,_0x32b8fa){_0x2f1410=_0x2f1410-0x1e6;var _0x5de472=_0x5de4[_0x2f1410];return _0x5de472;};var _0x54bce6=_0x4112,game_paused=![],fast_push=![],previous_block=[[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],[0x0,0x0]],previous_shadow=[[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],[0x0,0x0]],is_falling=![],block_ready=![],move=!![],draw=!![],stuck_timer=0x0,blocks=[],board,board_height=0x28,board_width=0x1e,last_row=new Array(board_width);last_row[_0x54bce6(0x216)](0x0);var left=0x0,up=board_height,down=0x0,right=board_width,chutes=[[[board_height-0x1,Math['floor'](board_width/0x2)],0x0]],walls=[],line_count=0x0,score=0x0,level=0x1,block_count=0x0,speed=0x3e8,fall_speed=speed,flag=!![],keys=[{'drop':0x28,'null':0x26},{'drop':0x25,'null':0x27},{'drop':0x26,'null':0x28},{'drop':0x27,'null':0x25}],shifts=[shift_down,shift_left,shift_up,shift_right],motion={'vertical':0x0,'horizontal':0x0,'chute':0x0,'direction':0x0,'rotate':!![]},colors=[_0x54bce6(0x1ee),_0x54bce6(0x20f),_0x54bce6(0x1e8),'turqoise',_0x54bce6(0x1e7),_0x54bce6(0x212),_0x54bce6(0x1e6),_0x54bce6(0x1eb),_0x54bce6(0x20d),_0x54bce6(0x1fa),_0x54bce6(0x1f4)];blocks[_0x54bce6(0x207)]([[[0x1,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x1]],_0x54bce6(0x1e8),0x4,0x4]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x1,0x1],[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0],[0x1,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x4,0x4]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x0,0x0],[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x3]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x1,0x0],[0x1,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x3]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x1,0x4]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x3,0x2]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x3,0x2]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x1,0x0],[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x2]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0]],'red',0x3,0x3]),blocks['push']([[[0x1,0x0,0x1,0x0],[0x0,0x1,0x0,0x0],[0x1,0x0,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x3,0x3]),blocks[_0x54bce6(0x207)]([[[0x1,0x0,0x0,0x1],[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x4]),blocks['push']([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x3]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x1,0x1]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x1,0x2]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x1,0x3]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x1,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x2]),blocks['push']([[[0x0,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x2]),blocks['push']([[[0x0,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x2]),blocks[_0x54bce6(0x207)]([[[0x1,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0]],'red',0x3,0x3]),blocks[_0x54bce6(0x207)]([[[0x1,0x0,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x3]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x3]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x1,0x0],[0x1,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],'red',0x2,0x3]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x0,0x0],[0x1,0x0,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x3,0x3]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x1,0x1],[0x1,0x0,0x0,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],'red',0x2,0x4]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x1,0x0],[0x1,0x1,0x1,0x0],[0x1,0x1,0x1,0x0],[0x0,0x0,0x0,0x0]],'red',0x3,0x3]),blocks['push']([[[0x1,0x0,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x0,0x1,0x0],[0x0,0x1,0x0,0x0]],_0x54bce6(0x1e8),0x4,0x3]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x0,0x1],[0x1,0x0,0x1,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x2,0x4]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0]],_0x54bce6(0x1e8),0x4,0x3]),blocks[_0x54bce6(0x207)]([[[0x1,0x0,0x0,0x1],[0x0,0x1,0x1,0x0],[0x1,0x0,0x0,0x1],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x3,0x4]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x0,0x1],[0x1,0x1,0x1,0x1],[0x1,0x0,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x3,0x4]),blocks[_0x54bce6(0x207)]([[[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x1],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0]],_0x54bce6(0x1e8),0x4,0x4]),blocks[_0x54bce6(0x207)]([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x0]],_0x54bce6(0x1e8),0x4,0x3]),blocks['push']([[[0x1,0x1,0x1,0x0],[0x0,0x1,0x0,0x0],[0x1,0x1,0x1,0x0],[0x0,0x0,0x0,0x0]],_0x54bce6(0x1e8),0x3,0x3]);function window_grid(_0x203b14,_0x7fb687){var _0x5067fb=_0x54bce6;return Math[_0x5067fb(0x20b)]((_0x203b14-0x2)/_0x7fb687-0x2);}function remove_children(_0x60a61f){var _0x406700=_0x54bce6;while(_0x60a61f[_0x406700(0x219)]()){_0x60a61f[_0x406700(0x1f6)](_0x60a61f['firstChild']);}}function mutex(){var _0x1c3d24=_0x54bce6;flag==![]&&window[_0x1c3d24(0x217)](mutex,0x3c);}function move_flag(){var _0x4e836f=_0x54bce6;move==![]&&window[_0x4e836f(0x217)](move_flag,0x64);}function draw_flag(){draw==![]&&window['setTimeout'](draw_flag,0x64);}function get_square_element(_0x393c44){var _0x9810c4=_0x54bce6;return document['getElementById'](_0x393c44[0x0][_0x9810c4(0x205)]()+'\x20'+_0x393c44[0x1][_0x9810c4(0x205)]());}function wall_rectangle(_0x4fa172){var _0x4678b4=_0x54bce6,_0x7cbdde=_0x4fa172[0x0],_0x5dd2ee,_0x32fdaa;while(_0x7cbdde<=_0x4fa172[0x1]){_0x5dd2ee=_0x4fa172[0x2];while(_0x5dd2ee<=_0x4fa172[0x3]){_0x32fdaa=get_square_element([_0x7cbdde,_0x5dd2ee]),_0x32fdaa[_0x4678b4(0x1ff)]=_0x4678b4(0x1ec),board[_0x7cbdde][_0x5dd2ee][0x0]=-0x1,board[_0x7cbdde][_0x5dd2ee][0x1]=-0x1,_0x5dd2ee++;}_0x7cbdde++;}}function build_walls(){var _0x4ac1f2=_0x54bce6,_0x38191b=0x0,_0x14df80;while(_0x38191b<walls[_0x4ac1f2(0x1f1)]){walls[_0x38191b][_0x4ac1f2(0x1f1)]==0x4?wall_rectangle(walls[_0x38191b]):(_0x14df80=get_square_element(walls[_0x38191b]),_0x14df80[_0x4ac1f2(0x1ff)]=_0x4ac1f2(0x1ec),board[walls[_0x38191b][0x0]][walls[_0x38191b][0x1]][0x0]=-0x1,board[walls[_0x38191b][0x0]][walls[_0x38191b][0x1]][0x1]=-0x1),_0x38191b++;}}function create_board(_0x586ffd,_0x2a70fc){var _0x5cc5c6=_0x54bce6;board=Array(board_height);var _0x5402f6=0x0,_0x9356e2=0x0,_0x158b17=[];while(_0x5402f6<board_height){_0x9356e2=0x0,_0x158b17=[];while(_0x9356e2<board_width){_0x158b17[_0x5cc5c6(0x207)]([0x0,0x0]),_0x9356e2++;}board[_0x5cc5c6(0x216)](_0x158b17,_0x5402f6),_0x5402f6++;}var _0x727bb7;(window_grid(window[_0x5cc5c6(0x1ef)]-0xf,board_height)+0x2)*board_width<window[_0x5cc5c6(0x210)]-0x96?_0x727bb7=window_grid(window[_0x5cc5c6(0x1ef)]-0xf,board_height):_0x727bb7=window_grid(window[_0x5cc5c6(0x210)]-0x96,board_width);var _0x1ad6f5=_0x727bb7[_0x5cc5c6(0x205)]()+'px',_0x5c93df=_0x727bb7[_0x5cc5c6(0x205)]()+'px';_0x5402f6=0x1;var _0x3877ba=document['getElementById'](_0x5cc5c6(0x213));while(_0x5402f6<_0x586ffd){_0x1ad6f5=_0x1ad6f5+'\x20'+_0x727bb7[_0x5cc5c6(0x205)]()+'px',_0x5402f6++;}_0x5402f6=0x1;while(_0x5402f6<_0x2a70fc){_0x5c93df=_0x5c93df+'\x20'+_0x727bb7['toString']()+'px',_0x5402f6++;}_0x3877ba['style'][_0x5cc5c6(0x20c)]=_0x1ad6f5,_0x3877ba[_0x5cc5c6(0x1f5)][_0x5cc5c6(0x218)]=_0x5c93df;var _0x3af6c2=board_width*_0x727bb7+0x2*board_width;_0x3877ba[_0x5cc5c6(0x1f5)][_0x5cc5c6(0x1ed)]=_0x3af6c2[_0x5cc5c6(0x205)]()+'px';var _0x1865d8=window[_0x5cc5c6(0x210)]-_0x3af6c2;_0x3877ba['style'][_0x5cc5c6(0x208)]=Math[_0x5cc5c6(0x20b)](_0x1865d8/0x2)[_0x5cc5c6(0x205)]()+'px',_0x5402f6=0x0;var _0x9356e2=board_height-0x1;_0x3877ba=document['getElementById'](_0x5cc5c6(0x213));var _0x5ac60d;while(_0x9356e2>=0x0){_0x5402f6=0x0;while(_0x5402f6<board_width){_0x5ac60d=document[_0x5cc5c6(0x1f3)](_0x5cc5c6(0x1f7)),_0x5ac60d[_0x5cc5c6(0x1ff)]=_0x5cc5c6(0x1ee),_0x5ac60d[_0x5cc5c6(0x1f8)]('id',_0x9356e2[_0x5cc5c6(0x205)]()+'\x20'+_0x5402f6[_0x5cc5c6(0x205)]()),_0x3877ba[_0x5cc5c6(0x214)](_0x5ac60d),_0x5402f6++;}_0x9356e2--;}build_walls();}function set_direction(_0x1dfc41){var _0x185b12=_0x54bce6;up=board_height,down=0x0,right=board_width,left=0x0,motion['vertical']=0x0,motion['horizontal']=0x0;if(_0x1dfc41==0x0)up=board_height+0x8,motion[_0x185b12(0x215)]=-0x1;else{if(_0x1dfc41==0x1)right=board_width+0x8,motion['horizontal']=-0x1;else{if(_0x1dfc41==0x2)down=-0x8,motion['vertical']=0x1;else _0x1dfc41==0x3&&(left=-0x8,motion['horizontal']=0x1);}}}function random_integer(_0x26e551,_0x203232){var _0x27941e=_0x54bce6;return Math[_0x27941e(0x20b)](Math[_0x27941e(0x204)]()*(_0x203232-_0x26e551+0x1)+_0x26e551);}function select_chute(_0x521854,_0x56e06a){var _0x36f45a=_0x54bce6,_0x5635a1=random_integer(_0x521854,_0x56e06a);return motion['chute']=_0x5635a1,motion[_0x36f45a(0x1fb)]=chutes[_0x5635a1][0x1],set_direction(motion[_0x36f45a(0x1fb)]),[chutes[_0x5635a1][0x0][0x0],chutes[_0x5635a1][0x0][0x1]];}function resume_game(_0x4aee8b){var _0x23bf6b=_0x54bce6;if(_0x4aee8b[_0x23bf6b(0x206)]==0x50){var _0x49bab5=document[_0x23bf6b(0x20a)](_0x23bf6b(0x211));_0x49bab5[_0x23bf6b(0x1f8)](_0x23bf6b(0x1fe),_0x23bf6b(0x1f0)),_0x49bab5[_0x23bf6b(0x1f8)]('onkeyup','key_released(event)'),timer1=setInterval(block_fall,fall_speed),timer2=setInterval(block_check,0xc8),game_paused=![];}}function pause_game(){var _0x5b1988=_0x54bce6;clearInterval(timer1),clearInterval(timer2);var _0x5e59a4=document[_0x5b1988(0x20a)]('game');_0x5e59a4[_0x5b1988(0x1f8)](_0x5b1988(0x1fe),_0x5b1988(0x1f2)),_0x5e59a4[_0x5b1988(0x200)]('onkeyup'),game_paused=!![];}function set_previous_block(_0xbc8e7b){var _0x43a4af,_0x37228b=0x0;previous_block[0x1][0x0]=_0xbc8e7b[0x4][0x0],previous_block[0x1][0x1]=_0xbc8e7b[0x4][0x1];while(_0x37228b<0x4){_0x43a4af=0x0;while(_0x43a4af<0x4){previous_block[0x0][_0x37228b][_0x43a4af]=_0xbc8e7b[0x0][_0x37228b][_0x43a4af],_0x43a4af++;}_0x37228b++;}}function set_previous_shadow(_0x475a11){previous_shadow[0x1][0x0]=_0x475a11[0x0],previous_shadow[0x1][0x1]=_0x475a11[0x1];var _0x5d1ee9=0x0,_0x54fab0=0x0;while(_0x5d1ee9<0x4){_0x54fab0=0x0;while(_0x54fab0<0x4){previous_shadow[0x0][_0x54fab0][_0x5d1ee9]=block[0x0][_0x54fab0][_0x5d1ee9],_0x54fab0++;}_0x5d1ee9++;}}function game_over(){var _0xbd28d5=_0x54bce6,_0x237e93=document[_0xbd28d5(0x20a)]('game');_0x237e93[_0xbd28d5(0x200)](_0xbd28d5(0x1fe)),_0x237e93['removeAttribute']('onkeyup'),clearInterval(timer1),clearInterval(timer2);}function set_speed(_0x5fda1d){speed=_0x5fda1d,fall_speed=_0x5fda1d,clearInterval(timer1),timer1=setInterval(block_fall,fall_speed);}function set_level(){var _0x99e3a1=_0x54bce6;line_count>=0x5&&(level++,score=score+0x3e8,line_count=line_count%0x5,set_speed(Math[_0x99e3a1(0x20b)](0x2/0x3*fall_speed)));}function draw_level(){}function draw_score(){}function random_block(){var _0x4eb24a=_0x54bce6;is_falling=!![],stuck_timer=0x0;var _0x2971cb=random_integer(0x0,blocks[_0x4eb24a(0x1f1)]-0x1),_0x3eea53=[[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],0x0,0x0,0x0];_0x3eea53[0x1]=random_integer(0x1,colors[_0x4eb24a(0x1f1)]-0x1);var _0x1883e8=0x0,_0xb95809=0x0;while(_0x1883e8<0x4){_0xb95809=0x0;while(_0xb95809<0x4){_0x3eea53[0x0][_0x1883e8][_0xb95809]=blocks[_0x2971cb][0x0][_0x1883e8][_0xb95809],_0xb95809++;}_0x1883e8++;}return _0x3eea53[0x2]=blocks[_0x2971cb][0x2],_0x3eea53[0x3]=blocks[_0x2971cb][0x3],_0x3eea53['push'](select_chute(0x0,chutes[_0x4eb24a(0x1f1)]-0x1)),set_previous_block(_0x3eea53),!check_block_position(_0x3eea53[0x0],_0x3eea53[0x4])&&game_over(),block_count++,set_level(),score++,_0x3eea53;}create_board(board_width,board_height);var block=random_block();block_ready=!![];var timer1=setInterval(block_fall,fall_speed),timer2=setInterval(block_check,0x32);function rotated_stair_xval(_0xefd5c,_0x8fd41f){var _0x177c1a=_0x54bce6,_0x21e434=0x0;if(_0x8fd41f>0x0)_0x21e434=Math[_0x177c1a(0x20b)](_0xefd5c);else{if(_0x8fd41f<0x0)_0x21e434=Math[_0x177c1a(0x20e)](_0xefd5c);else motion[_0x177c1a(0x1e9)]?_0x21e434=Math[_0x177c1a(0x20b)](_0xefd5c):_0x21e434=Math[_0x177c1a(0x20e)](_0xefd5c);}return _0x21e434;}function rotated_stair_yval(_0xc56f23,_0x570f18){var _0xc5773e=_0x54bce6,_0x59c301=0x0;if(_0x570f18>0x0)_0x59c301=Math[_0xc5773e(0x20b)](_0xc56f23);else{if(_0x570f18<0x0)_0x59c301=Math[_0xc5773e(0x20e)](_0xc56f23);else motion[_0xc5773e(0x1e9)]?_0x59c301=Math[_0xc5773e(0x20b)](_0xc56f23):_0x59c301=Math[_0xc5773e(0x20e)](_0xc56f23);}return _0x59c301;}function on_board(_0x189ff4,_0x2f3864){if(_0x189ff4<0x0||_0x2f3864<0x0||_0x189ff4>board_width-0x1||_0x2f3864>board_height-0x1)return![];return!![];}function max(_0x3c77f9,_0x3fe48f){if(_0x3c77f9>_0x3fe48f)return _0x3c77f9;return _0x3fe48f;}function distance(_0x3f06b1,_0x2d2e24){var _0xf06946=_0x54bce6;return Math[_0xf06946(0x202)](Math['pow'](_0x3f06b1[0x0]-_0x2d2e24[0x0],0x2)+Math[_0xf06946(0x1f9)](_0x3f06b1[0x1]-_0x2d2e24[0x1],0x2));}function abs(_0x24988f){if(_0x24988f<0x0)return-0x1*_0x24988f;return _0x24988f;}function check_block_position(_0x4ac398,_0x1baccb){var _0x5bc528=_0x54bce6,_0x20135e,_0x377be8=0x0,_0x185144=_0x1baccb[0x1]-0x1,_0xeec09c=_0x1baccb[0x0];while(_0x377be8<0x4){_0x20135e=0x0;while(_0x20135e<0x4){if(_0x4ac398[_0x377be8][_0x20135e]==0x1&&(_0xeec09c+_0x377be8<down||_0x185144+_0x20135e<left||_0xeec09c+_0x377be8>up||_0x185144+_0x20135e>right||on_board(_0x185144+_0x20135e,_0xeec09c+_0x377be8)&&board[Math[_0x5bc528(0x20b)](_0xeec09c+_0x377be8)][Math['floor'](_0x185144+_0x20135e)][0x0]!=0x0))return![];_0x20135e++;}_0x377be8++;}return!![];}function rotate(_0x83fe7d,_0x2d8bc4,_0x39fcf1){var _0x31164a=[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0]],_0x1e0cd6=0x1,_0x58d9f3=0x1;_0x2d8bc4>0x2&&(_0x58d9f3=0x0);_0x39fcf1>0x2&&(_0x1e0cd6=0x0);var _0x41512c=0x0,_0x2fce64=0x0;while(_0x41512c<0x4){_0x2fce64=0x0;while(_0x2fce64<0x4){_0x83fe7d[_0x2fce64][_0x41512c]==0x1&&(_0x31164a[_0x39fcf1-_0x41512c-0x1+_0x1e0cd6][_0x2fce64+_0x58d9f3]=0x1),_0x2fce64=_0x2fce64+0x1;}_0x41512c=_0x41512c+0x1;}return _0x31164a;}function check_space(_0x4f52f9,_0x2fcf23,_0x54355a){var _0xe446a7=_0x54bce6,_0x487b6b=_0x4f52f9/0x2,_0x7feaa=_0x2fcf23/0x2,_0x166f6b=_0x54355a[0x0],_0x354c68=_0x54355a[0x1],_0x230ddd=_0x354c68,_0x2004e1=_0x166f6b,_0x4a225a,_0x116658;while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x487b6b){_0x116658=0x0;(_0x230ddd>=board_height||abs(_0x230ddd-_0x354c68)>=_0x487b6b)&&(_0x116658=0.5);while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x487b6b){_0x4a225a=0x0;_0x2004e1>=board_width&&(_0x4a225a=0.5);if(_0x2004e1<left||_0x2004e1>right||_0x230ddd<down||_0x230ddd>up||on_board(_0x2004e1,_0x230ddd)&&board[Math[_0xe446a7(0x20b)](_0x230ddd-_0x116658)][Math[_0xe446a7(0x20b)](_0x2004e1-_0x4a225a)][0x0]!=0x0)return![];_0x2004e1=_0x2004e1-0.5;}_0x2004e1=_0x166f6b,_0x230ddd=_0x230ddd+0.5;}_0x230ddd=_0x354c68,_0x2004e1=_0x166f6b;while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x487b6b){_0x116658=0x0;_0x230ddd>=board_height&&(_0x116658=0.5);while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x487b6b){_0x4a225a=0x0;(_0x2004e1>=board_width||abs(_0x2004e1-_0x166f6b)>=_0x487b6b)&&(_0x4a225a=0.5);if(_0x2004e1<left||_0x2004e1>right||_0x230ddd<down||_0x230ddd>up||on_board(_0x2004e1,_0x230ddd)&&board[Math[_0xe446a7(0x20b)](_0x230ddd-_0x116658)][Math['floor'](_0x2004e1-_0x4a225a)][0x0]!=0x0)return![];_0x2004e1=_0x2004e1+0.5;}_0x2004e1=_0x166f6b,_0x230ddd=_0x230ddd-0.5;}_0x230ddd=_0x354c68,_0x2004e1=_0x166f6b;while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x7feaa){_0x116658=0x0;(_0x230ddd>=board_height||abs(_0x230ddd-_0x354c68)>=_0x7feaa)&&(_0x116658=0.5);while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x7feaa){_0x4a225a=0x0;(_0x2004e1>=board_width||abs(_0x166f6b-_0x2004e1)>=_0x7feaa)&&(_0x4a225a=0.5);if(_0x2004e1<left||_0x2004e1>right||_0x230ddd<down||_0x230ddd>up||on_board(_0x2004e1,_0x230ddd)&&board[Math[_0xe446a7(0x20b)](_0x230ddd-_0x116658)][Math[_0xe446a7(0x20b)](_0x2004e1-_0x4a225a)][0x0]!=0x0)return![];_0x2004e1=_0x2004e1+0.5;}_0x2004e1=_0x166f6b,_0x230ddd=_0x230ddd+0.5;}_0x230ddd=_0x354c68,_0x2004e1=_0x166f6b;while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x7feaa){_0x116658=0x0;_0x230ddd>=board_height&&(_0x116658=0.5);while(distance(_0x54355a,[_0x2004e1,_0x230ddd])<=_0x7feaa){_0x4a225a=0x0;_0x2004e1>=board_width&&(_0x4a225a=0.5);if(_0x2004e1<left||_0x2004e1>right||_0x230ddd<down||_0x230ddd>up||on_board(_0x2004e1,_0x230ddd)&&board[Math['floor'](_0x230ddd-_0x116658)][Math[_0xe446a7(0x20b)](_0x2004e1-_0x4a225a)][0x0]!=0x0)return![];_0x2004e1=_0x2004e1-0.5;}_0x2004e1=_0x166f6b,_0x230ddd=_0x230ddd-0.5;}return!![];}function rotate_space(_0x46a38e){var _0x2456c7=_0x54bce6,_0x51e15b=max(_0x46a38e[0x2],_0x46a38e[0x3]),_0x340a9a=_0x46a38e[0x2],_0x2bc18f=_0x46a38e[0x3],_0x183d04=_0x46a38e[0x4],_0x312b1c=rotate(_0x46a38e[0x0],_0x46a38e[0x2],_0x46a38e[0x3]),_0x3bf088=_0x340a9a/0x2,_0x4cf22c=_0x2bc18f/0x2,_0x398e42=_0x183d04[0x0],_0x39db2c=_0x183d04[0x1],_0x2154d7=[];_0x2bc18f<0x3?_0x2154d7[_0x2456c7(0x207)](_0x39db2c+_0x4cf22c):_0x2154d7[_0x2456c7(0x207)](_0x39db2c+_0x4cf22c-0x1);_0x2154d7[_0x2456c7(0x207)](_0x398e42+_0x3bf088),_0x398e42=_0x2154d7[0x1]-_0x2bc18f/0x2,_0x39db2c=_0x2154d7[0x0]-_0x340a9a/0x2;_0x340a9a>0x2&&_0x39db2c++;var _0x3026b7=0x0,_0x3f4d76;while(_0x3026b7<=_0x51e15b/0x2){_0x3f4d76=0x0;while(_0x3f4d76<=_0x51e15b/0x2){if(check_space(_0x2bc18f,_0x340a9a,[_0x2154d7[0x0]+_0x3026b7,_0x2154d7[0x1]+_0x3f4d76])&&check_block_position(_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]))return[_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]];_0x3f4d76=_0x3f4d76+0.5;}_0x3f4d76=-0.5;while(_0x3f4d76>=-0x1*_0x51e15b/0x2){if(check_space(_0x2bc18f,_0x340a9a,[_0x2154d7[0x0]+_0x3026b7,_0x2154d7[0x1]+_0x3f4d76])&&check_block_position(_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]))return[_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]];_0x3f4d76=_0x3f4d76-0.5;}_0x3026b7=_0x3026b7+0.5;}_0x3026b7=-0.5;while(_0x3026b7>=-0x1*_0x51e15b/0x2){_0x3f4d76=0x0;while(_0x3f4d76<=_0x51e15b/0x2){if(check_space(_0x2bc18f,_0x340a9a,[_0x2154d7[0x0]+_0x3026b7,_0x2154d7[0x1]+_0x3f4d76])&&check_block_position(_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]))return[_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]];_0x3f4d76=_0x3f4d76+0.5;}_0x3f4d76=-0.5;while(_0x3f4d76>=-0x1*_0x51e15b/0x2){if(check_space(_0x2bc18f,_0x340a9a,[_0x2154d7[0x0]+_0x3026b7,_0x2154d7[0x1]+_0x3f4d76])&&check_block_position(_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]))return[_0x312b1c,[rotated_stair_yval(_0x398e42+_0x3f4d76,_0x3f4d76),rotated_stair_xval(_0x39db2c+_0x3026b7,_0x3026b7)]];_0x3f4d76=_0x3f4d76-0.5;}_0x3026b7=_0x3026b7-0.5;}return![];}function rotate_block(_0x37b577){var _0x19d00c=_0x54bce6,_0x193cbe=_0x37b577[0x2],_0x516f60=_0x37b577[0x3],_0x2c360a=rotate_space(_0x37b577);if(_0x2c360a){var _0x1bf7fb=[[],_0x37b577[0x1],_0x516f60,_0x193cbe,[]];return _0x1bf7fb[0x0]=_0x2c360a[0x0],_0x1bf7fb[0x4][_0x19d00c(0x207)](_0x2c360a[0x1][0x0]),_0x1bf7fb[0x4]['push'](_0x2c360a[0x1][0x1]),_0x1bf7fb;}return _0x37b577;}function draw_board(){var _0x3bdea4=_0x54bce6,_0x58ec60=0x0,_0x1f4dd6=0x0,_0x51eb89;while(_0x1f4dd6<board_height){_0x58ec60=0x0;while(_0x58ec60<board_width){_0x51eb89=document[_0x3bdea4(0x20a)](_0x1f4dd6[_0x3bdea4(0x205)]()+'\x20'+_0x58ec60[_0x3bdea4(0x205)]()),board[_0x1f4dd6][_0x58ec60][0x0]==0x1?_0x51eb89[_0x3bdea4(0x1ff)]=colors[board[_0x1f4dd6][_0x58ec60][0x1]]:_0x51eb89[_0x3bdea4(0x1ff)]=_0x3bdea4(0x1ee),_0x58ec60++;}_0x1f4dd6++;}build_walls();}function draw_circles(_0x759ed2){var _0x3ce9a1=_0x54bce6;if(_0x759ed2['className']==_0x3ce9a1(0x1ee)){var _0x4252b4=document[_0x3ce9a1(0x1f3)](_0x3ce9a1(0x1f7));_0x4252b4['className']=_0x3ce9a1(0x209),_0x759ed2[_0x3ce9a1(0x214)](_0x4252b4);}}function draw_block(){var _0x44a1c0=_0x54bce6,_0x15d17b,_0x1feba3=previous_block[0x1][0x1]-0x1,_0x479a46=previous_block[0x1][0x0],_0xf89965=0x0,_0xb58076=0x0;while(_0xb58076<0x4){_0xf89965=0x0;while(_0xf89965<0x4){on_board(_0x1feba3+_0xf89965,_0x479a46+_0xb58076)&&previous_block[0x0][_0xb58076][_0xf89965]==0x1&&(_0x15d17b=document[_0x44a1c0(0x20a)]((_0x479a46+_0xb58076)[_0x44a1c0(0x205)]()+'\x20'+(_0x1feba3+_0xf89965)['toString']()),_0x15d17b['className']=_0x44a1c0(0x1ee)),_0xf89965++;}_0xb58076++;}_0xf89965=0x0,_0xb58076=0x0,_0x1feba3=block[0x4][0x1]-0x1,_0x479a46=block[0x4][0x0];while(_0xb58076<0x4){_0xf89965=0x0;while(_0xf89965<0x4){on_board(_0x1feba3+_0xf89965,_0x479a46+_0xb58076)&&block[0x0][_0xb58076][_0xf89965]==0x1&&(_0x15d17b=document[_0x44a1c0(0x20a)]((_0x479a46+_0xb58076)[_0x44a1c0(0x205)]()+'\x20'+(_0x1feba3+_0xf89965)[_0x44a1c0(0x205)]()),_0x15d17b[_0x44a1c0(0x1ff)]=colors[block[0x1]]),_0xf89965++;}_0xb58076++;}}function draw_shadow(_0x223987){var _0x159544=_0x54bce6,_0x5d1fae,_0x35977b=previous_shadow[0x1][0x1]-0x1,_0x207db0=previous_shadow[0x1][0x0],_0x65f117=0x0,_0x4dac0=0x0;while(_0x4dac0<0x4){_0x65f117=0x0;while(_0x65f117<0x4){on_board(_0x35977b+_0x65f117,_0x207db0+_0x4dac0)&&previous_shadow[0x0][_0x4dac0][_0x65f117]==0x1&&(_0x5d1fae=document[_0x159544(0x20a)]((_0x207db0+_0x4dac0)[_0x159544(0x205)]()+'\x20'+(_0x35977b+_0x65f117)[_0x159544(0x205)]()),remove_children(_0x5d1fae)),_0x65f117++;}_0x4dac0++;}_0x65f117=0x0,_0x4dac0=0x0,_0x35977b=_0x223987[0x1]-0x1,_0x207db0=_0x223987[0x0];while(_0x4dac0<0x4){_0x65f117=0x0;while(_0x65f117<0x4){on_board(_0x35977b+_0x65f117,_0x207db0+_0x4dac0)&&block[0x0][_0x4dac0][_0x65f117]==0x1&&(_0x5d1fae=document[_0x159544(0x20a)]((_0x207db0+_0x4dac0)[_0x159544(0x205)]()+'\x20'+(_0x35977b+_0x65f117)[_0x159544(0x205)]()),draw_circles(_0x5d1fae)),_0x65f117++;}_0x4dac0++;}}function print_board(){var _0x5a831a=_0x54bce6,_0x337b10=[],_0x298e73=0x0,_0x224ef7=0x0;while(_0x298e73<board_height){_0x337b10[_0x5a831a(0x207)]([0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]),_0x298e73++;}_0x298e73=0x0;while(_0x298e73<board_height){_0x224ef7=0x0;while(_0x224ef7<board_width){_0x337b10[_0x298e73][_0x224ef7]=board[_0x298e73][_0x224ef7],_0x224ef7++;}_0x298e73++;}var _0x6536a9=block[0x4],_0x497941=_0x6536a9[0x0],_0x47a4d1=_0x6536a9[0x1]-0x1;_0x298e73=0x0;var _0x224ef7=0x0;while(_0x224ef7<0x4){_0x298e73=0x0;while(_0x298e73<0x4){_0x47a4d1+_0x298e73>=0x0&&_0x47a4d1+_0x298e73<board_width&&_0x497941+_0x224ef7<board_height&&_0x497941+_0x224ef7>=0x0&&block[0x0][_0x224ef7][_0x298e73]==0x1&&(_0x337b10[_0x497941+_0x224ef7][_0x47a4d1+_0x298e73]=0x1),_0x298e73++;}_0x224ef7++;}_0x298e73=0xd;while(_0x298e73>=0x0){console[_0x5a831a(0x1fc)](_0x337b10[_0x298e73]),_0x298e73--;}}function print_block(_0x2fc83e){var _0x1eca50=0x3;while(_0x1eca50>-0x1){console['log'](_0x2fc83e[0x0][_0x1eca50]),_0x1eca50=_0x1eca50-0x1;}return 0x0;}function secure_block(){var _0x91bc7f=block[0x4][0x1]-0x1,_0x354ed1=block[0x4][0x0],_0x49b767=0x0,_0x576dd8=0x0;while(_0x576dd8<0x4){_0x49b767=0x0;while(_0x49b767<0x4){_0x91bc7f+_0x49b767>=0x0&&_0x91bc7f+_0x49b767<board_width&&_0x354ed1+_0x576dd8>=0x0&&_0x354ed1+_0x576dd8<board_height&&block[0x0][_0x576dd8][_0x49b767]==0x1&&(board[_0x354ed1+_0x576dd8][_0x91bc7f+_0x49b767][0x0]=0x1,board[_0x354ed1+_0x576dd8][_0x91bc7f+_0x49b767][0x1]=block[0x1]),_0x49b767++;}_0x576dd8++;}_0x49b767=block[0x4][0x1]-0x1;while(_0x49b767<=_0x91bc7f+0x3){_0x354ed1+block[0x2]-0x1>last_row[_0x49b767]&&(last_row[_0x49b767]=_0x354ed1+block[0x2]-0x1),_0x49b767++;}}function move_row_down(_0x1c40fb,_0x367a0c){var _0x5260f4=0x0;while(_0x5260f4<board_width){board[_0x1c40fb][_0x5260f4][0x0]=board[_0x1c40fb+_0x367a0c][_0x5260f4][0x0],board[_0x1c40fb][_0x5260f4][0x1]=board[_0x1c40fb+_0x367a0c][_0x5260f4][0x1],_0x5260f4++;}}function empty_row(_0x26f50e){var _0x4be44c=0x0;while(_0x4be44c<board_width){board[_0x26f50e][_0x4be44c][0x0]=0x0,board[_0x26f50e][_0x4be44c][0x1]=0x0,_0x4be44c++;}}function clear_lines(){var _0x32dfa5=_0x54bce6,_0x42a75b=0x0,_0x5dd18b=block[0x4][0x0],_0x3e4442=0x0,_0x54de90=block[0x2],_0x582448=0x0,_0x156fb0=[];while(_0x3e4442<_0x54de90){_0x582448=0x0,_0x42a75b=0x0;while(_0x42a75b<board_width){on_board(_0x42a75b,_0x5dd18b+_0x3e4442)&&board[_0x5dd18b+_0x3e4442][_0x42a75b][0x0]!=0x0&&_0x582448++,_0x42a75b++;}_0x582448==_0x42a75b&&_0x156fb0['push'](_0x5dd18b+_0x3e4442),_0x3e4442++;}_0x3e4442=0x0,line_count=line_count+_0x156fb0['length'],score=score+0x32*_0x156fb0[_0x32dfa5(0x1f1)];while(_0x3e4442<board_width){move_column_down(_0x3e4442,_0x156fb0),_0x3e4442++;}}function move_column_down(_0x1efdaf,_0x42ae64){var _0xe177a2=_0x54bce6,_0x4c099e=0x0,_0x5ed2ef,_0x1f93f8=0x0;while(_0x4c099e<_0x42ae64[_0xe177a2(0x1f1)]-0x1){_0x5ed2ef=_0x42ae64[_0x4c099e]-_0x1f93f8;while(_0x5ed2ef<_0x42ae64[_0x4c099e+0x1]-_0x1f93f8-0x1&&board[_0x5ed2ef+_0x1f93f8+0x1][_0x1efdaf][0x0]>=0x0){board[_0x5ed2ef][_0x1efdaf][0x0]=board[_0x5ed2ef+_0x1f93f8+0x1][_0x1efdaf][0x0],board[_0x5ed2ef][_0x1efdaf][0x1]=board[_0x5ed2ef+_0x1f93f8+0x1][_0x1efdaf][0x1],_0x5ed2ef++;}_0x1f93f8++,(board[_0x5ed2ef+_0x1f93f8+0x1][_0x1efdaf][0x0]<0x0||board[_0x5ed2ef][_0x1efdaf][0x0]<0x0)&&(_0x1f93f8=0x0),_0x4c099e++;}if(_0x4c099e<_0x42ae64['length']){_0x5ed2ef=_0x42ae64[_0x4c099e]-_0x1f93f8;while(_0x5ed2ef<=last_row[_0x1efdaf]-_0x1f93f8-0x1&&board[_0x5ed2ef+_0x1f93f8+0x1][_0x1efdaf][0x0]>=0x0){board[_0x5ed2ef][_0x1efdaf][0x0]=board[_0x5ed2ef+_0x1f93f8+0x1][_0x1efdaf][0x0],board[_0x5ed2ef][_0x1efdaf][0x1]=board[_0x5ed2ef+_0x1f93f8+0x1][_0x1efdaf][0x1],_0x5ed2ef++;}while(_0x5ed2ef<=last_row[_0x1efdaf]&&board[_0x5ed2ef][_0x1efdaf][0x0]>=0x0){board[_0x5ed2ef][_0x1efdaf][0x0]=0x0,board[_0x5ed2ef][_0x1efdaf][0x1]=0x0,_0x5ed2ef++;}last_row[_0x1efdaf]=last_row[_0x1efdaf]-_0x1f93f8-0x1;}}function clear(_0x217e28,_0x480eb2){var _0xd7723c=_0x54bce6,_0x128daf,_0x480eb2=0x0,_0x4b273c=0x0;while(_0x480eb2<_0x217e28[_0xd7723c(0x1f1)]-0x1){_0x128daf=_0x217e28[_0x480eb2]-_0x4b273c;while(_0x128daf<_0x217e28[_0x480eb2+0x1]-_0x480eb2-0x1){move_row_down(_0x128daf,_0x480eb2+0x1),_0x128daf++;}_0x480eb2++;}if(_0x480eb2<_0x217e28['length']){_0x128daf=_0x217e28[_0x480eb2]-_0x480eb2;while(_0x128daf<=last_row-_0x480eb2-0x1){move_row_down(_0x128daf,_0x480eb2+0x1),_0x128daf++;}while(_0x128daf<=last_row){empty_row(_0x128daf),_0x128daf++;}last_row=last_row-_0x480eb2-0x1;}}function check_below_block(_0x4f0782,_0x369352){var _0x4e64a4=_0x54bce6,_0x1928dd=block[0x4][0x1]-0x1,_0xe845f4=block[0x4][0x0],_0x2e274e=0x0,_0x35498b=0x0;while(_0x35498b<0x4){_0x2e274e=0x0;while(_0x2e274e<0x4){if(!shifts[motion[_0x4e64a4(0x1fb)]](block,block[0x4],!![]))return is_falling=_0x4f0782&&![]||_0x369352,!![];_0x2e274e++;}_0x35498b++;}return is_falling=_0x4f0782&&!![]||_0x369352,stuck_timer=0x0,![];}function drop_position(){var _0x2fcac5=_0x54bce6,_0x28ec95=[];_0x28ec95[_0x2fcac5(0x207)](block[0x4][0x0]),_0x28ec95[_0x2fcac5(0x207)](block[0x4][0x1]);while(shifts[motion[_0x2fcac5(0x1fb)]](block,_0x28ec95,!![])){_0x28ec95[0x0]=_0x28ec95[0x0]+motion[_0x2fcac5(0x215)],_0x28ec95[0x1]=_0x28ec95[0x1]+motion[_0x2fcac5(0x1ea)];}return _0x28ec95;}function block_fall(){var _0x1d35cc=_0x54bce6;if(is_falling)flag==![]&&mutex(),flag=![],block[0x4]=shifts[motion[_0x1d35cc(0x1fb)]](block,block[0x4],![]),check_below_block(!![],![]);else stuck_timer>=0x7d0?(flag==![]&&mutex(),flag=![],block_ready=![],secure_block(),clear_lines(),block=random_block(),block_ready=!![],draw_board()):stuck_timer=stuck_timer+fall_speed;flag=!![];}function block_check(){flag==![]&&mutex();flag=![],draw_block(),set_previous_block(block);var _0x21a67c=drop_position();draw_shadow(_0x21a67c),set_previous_shadow(_0x21a67c),flag=!![];}function shift_up(_0x11c25b,_0xebf2c1,_0x57ea28){var _0x36272b=_0x11c25b[0x2],_0x4f0b73=_0xebf2c1[0x1]-0x1,_0x2ddaa3=_0xebf2c1[0x0],_0xca2d5d=0x0,_0x54dea8=0x0,_0x4ec9fd=0x0,_0x99e7a5=_0x11c25b[0x3];_0x11c25b[0x3]<0x3&&_0x4ec9fd++;while(_0x54dea8<_0x36272b){_0xca2d5d=_0x4ec9fd;while(_0x11c25b[0x0][_0x54dea8][_0xca2d5d]!=0x1){_0xca2d5d++;}while(_0xca2d5d<_0x99e7a5+_0x4ec9fd){if(on_board(_0x4f0b73+_0xca2d5d,_0x2ddaa3+_0x54dea8)&&_0x11c25b[0x0][_0x54dea8][_0xca2d5d]==0x1&&(!on_board(_0x4f0b73+_0xca2d5d,_0x2ddaa3+_0x54dea8+0x1)||board[_0x2ddaa3+_0x54dea8+0x1][_0x4f0b73+_0xca2d5d][0x0]!=0x0)){if(_0x57ea28)return![];return _0xebf2c1;}_0xca2d5d++;}_0x54dea8++;}if(_0x57ea28)return!![];return[_0x2ddaa3+0x1,_0xebf2c1[0x1]];}function shift_down(_0x372153,_0x45d914,_0x4f5a19){var _0x15df83=_0x372153[0x2],_0x141f38=_0x45d914[0x1]-0x1,_0x5ce89a=_0x45d914[0x0],_0x365099=0x0,_0x33f360=0x0,_0x45b194=0x0,_0xe3eca5=_0x372153[0x3];_0x372153[0x3]<0x3&&_0x45b194++;while(_0x33f360<_0x15df83){_0x365099=_0x45b194;while(_0x372153[0x0][_0x33f360][_0x365099]!=0x1){_0x365099++;}while(_0x365099<_0xe3eca5+_0x45b194){if(on_board(_0x141f38+_0x365099,_0x5ce89a+_0x33f360)&&_0x372153[0x0][_0x33f360][_0x365099]==0x1&&(!on_board(_0x141f38+_0x365099,_0x5ce89a+_0x33f360-0x1)||board[_0x5ce89a+_0x33f360-0x1][_0x141f38+_0x365099][0x0]!=0x0)){if(_0x4f5a19)return![];return _0x45d914;}_0x365099++;}_0x33f360++;}if(_0x4f5a19)return!![];return[_0x5ce89a-0x1,_0x45d914[0x1]];}function shift_right(_0x5a5272,_0x1b2046,_0x5cf5c4){var _0x504d08=_0x5a5272[0x2],_0x3f2458=_0x1b2046[0x1]+0x2,_0x2fe12c=_0x1b2046[0x0],_0x1c7f2c=0x0,_0x322142=0x0,_0x1a93af=0x3;_0x5a5272[0x3]<0x4&&(_0x3f2458--,_0x1a93af--);_0x5a5272[0x3]<0x2&&(_0x3f2458--,_0x1a93af--);while(_0x322142<_0x504d08){_0x1c7f2c=0x0;while(_0x5a5272[0x0][_0x322142][_0x1a93af-_0x1c7f2c]!=0x1){_0x1c7f2c++;}while(_0x1c7f2c<=_0x1a93af){if(on_board(_0x3f2458-_0x1c7f2c,_0x2fe12c+_0x322142)&&_0x5a5272[0x0][_0x322142][_0x1a93af-_0x1c7f2c]==0x1&&(!on_board(_0x3f2458-_0x1c7f2c+0x1,_0x2fe12c+_0x322142)||board[_0x2fe12c+_0x322142][_0x3f2458-_0x1c7f2c+0x1][0x0]!=0x0)){if(_0x5cf5c4)return![];return _0x1b2046;}_0x1c7f2c++;}_0x322142++;}if(_0x5cf5c4)return!![];return[_0x2fe12c,_0x1b2046[0x1]+0x1];}function shift_left(_0x29f58e,_0x3fdc17,_0x296133){var _0x4ab846=_0x29f58e[0x2],_0x20310a=_0x3fdc17[0x1]-0x1,_0xa6096f=_0x3fdc17[0x0],_0x33ffa3=0x0,_0x513a85=0x0,_0x471834=0x0;_0x29f58e[0x3]<0x3&&_0x471834++;while(_0x513a85<_0x4ab846){_0x33ffa3=_0x471834;while(_0x29f58e[0x0][_0x513a85][_0x33ffa3]!=0x1){_0x33ffa3++;}while(_0x33ffa3<0x4){if(on_board(_0x20310a+_0x33ffa3,_0xa6096f+_0x513a85)&&_0x29f58e[0x0][_0x513a85][_0x33ffa3]==0x1&&(!on_board(_0x20310a+_0x33ffa3-0x1,_0xa6096f+_0x513a85)||board[_0xa6096f+_0x513a85][_0x20310a+_0x33ffa3-0x1][0x0]!=0x0)){if(_0x296133)return![];return _0x3fdc17;}_0x33ffa3++;}_0x513a85++;}if(_0x296133)return!![];return[_0xa6096f,_0x3fdc17[0x1]-0x1];}function move_block(_0x12f68c){var _0x560683=_0x54bce6;if(_0x12f68c==keys[motion['direction']][_0x560683(0x1fd)])block_ready=![],is_falling=![],block[0x4]=drop_position(),secure_block(),clear_lines(),block=random_block(),block_ready=!![],draw_board();else{if(_0x12f68c==0x20)block=rotate_block(block),motion['rotate']=!motion[_0x560683(0x1e9)];else{if(_0x12f68c==0x25)block[0x4]=shift_left(block,block[0x4],![]);else{if(_0x12f68c==0x27)block[0x4]=shift_right(block,block[0x4],![]);else _0x12f68c==0x26?block[0x4]=shift_up(block,block[0x4],![]):block[0x4]=shift_down(block,block[0x4],![]);}}}_0x12f68c!=keys[motion[_0x560683(0x1fb)]]['drop']&&check_below_block(!![],![]);}function key_released(_0x44608f){var _0x1bfb42=_0x54bce6,_0x261990=_0x44608f[_0x1bfb42(0x206)];_0x261990==0x46&&(clearInterval(timer1),fall_speed=speed,timer1=setInterval(block_fall,fall_speed),fast_push=![]);}function key_pushed(_0x17a8e1){var _0x8141fe=_0x54bce6,_0x4a9515=is_falling,_0x24e3f9=_0x17a8e1[_0x8141fe(0x206)];if(_0x24e3f9==0x50)pause_game();else{if(block_ready&&(_0x24e3f9==0x25||_0x24e3f9==0x26||_0x24e3f9==0x27||_0x24e3f9==0x20||_0x24e3f9==0x28)&&_0x24e3f9!=keys[motion[_0x8141fe(0x1fb)]][_0x8141fe(0x201)])flag==![]&&mutex(),flag=![],stuck_timer=0x0,move_block(_0x24e3f9),flag=!![];else _0x24e3f9==0x46&&!fast_push&&(clearInterval(timer1),fall_speed=0x1e,timer1=setInterval(block_fall,fall_speed),fast_push=!![]);}}function tetris(){var _0x4c6708=_0x54bce6,_0x5ef4f7=document[_0x4c6708(0x20a)](_0x4c6708(0x203));_0x5ef4f7['innerHTML']='TEST';var _0x1b7133=0x0;while(_0x1b7133<board_height){board[_0x4c6708(0x207)]([0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]),_0x1b7133=_0x1b7133+0x1;}return console[_0x4c6708(0x1fc)](board[0x4][0x3]),print_block(block),block=rotate_block(block),print_block(block),block=rotate_block(block),print_block(block),block=rotate_block(block),print_block(block),block=rotate_block(block),print_block(block),check_space(0x3,0x4,[0x3,8.5])?console[_0x4c6708(0x1fc)]('Success'):console[_0x4c6708(0x1fc)]('failure'),0x0;}


</script>









</body>
</html>
